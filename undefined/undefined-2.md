# 회원가입과 암호화



## DB 에 '쌩 PW' 가 아니라, '암호' 를 저장해야 하는 이유&#x20;

```
사람들은 보통 '비슷한 패턴의 암호' 를 사용한다. 
따라서, 한 사이트의 비밀번호가 털리면 -> 네이버, 카톡 등 다른 사이트도 털릴 가능성이 높다. 
따라서, 'pw 를 쌩으로 저장' 하는 데에는, 큰 위험성이 존재한다. 
```





## 암호화 방법&#x20;

```
'암호' 를 만드는 데에는 2가지 방법이 있다. 

- '양방향' 암호    
    - '복호화' 가 가능. 
    - 즉, '890101' 을 넣어서 -> {1:a, 2:b, c:3...} 을 1:1 대응 시킨다. 
    - 결과물은 hiiij 임 -> hiiij 를 '암호 규칙' 에 되돌려보면, 원본인 890101 이 잘 나온다. 
    - 'hiiij' 라는 암호를 만드는 input은 딱 하나 임 (1:1 관계) 

-  '단방향'암호
    - '복호화' 가 불가능함. 
    - 즉, '890101' 을 넣어서 -> '2자리를 10을 나눈 나머지를  암호로 만든다.' 라는 암호 규칙에 넣는다. 
        - 그러면, '911' 이라는 암호가 나온다. 
        - '2자리를 10을 나눈 나머지를  암호로 만든다.' 라는 암호 규칙에 따르면, 911 이 될 수 있는 input 값을 여러가지 다. 
        - 즉, 911 암호를 만드는 숫자는 여러개 될 수 있다. = (⭐'1:다 관계'⭐다) 
        - 따라서, 설령 암호 규칙을 알더라도, 원본 암호를 알기 힘들다. 

```





## 무차별 공격(brute force attack) 에 따른 단방향 암호화의 한계&#x20;

```
- '2자리를 10을 나눈 나머지를  암호로 만든다.' 라는 암호 규칙 아래에서, 암호 911 을 만드는 방법은 ⭐한정적⭐이다. 

- 즉, 시간이 오래 걸릴 뿐, 논리적으로 찾는게 불가능 한 건 아니라는 말 이다. 

- 이는 굉장히 빠른 슈퍼 컴퓨터가, '빠른 연산' 으로, 모든 경우의 수를 계산하면, 원본 pw 를 찾을 수 있음을 의미한다. 

- 따라서, 털릴 수 있는 위험성이 굉장히 높다. 
```





## salt 와 키스트레칭&#x20;

```
- 암호를 만들 때, 'salt(임의의 22개 문자열)' 을 더해서, 암호를 만든다. 
- 그러면, 경우의 수가, 매우매우 많아진다. 

- 즉, 
    - 시간이 오래 걸릴 뿐, 모든 경우의 수를 다 대입해보면 찾을 수 있긴 하다. 
    - 하지만, 그 많은 수를 다 대입하고 찾는 것은, 아무리 빠른 컴퓨터라고 해도, 몇 백년이 걸릴 정도의 연산 이 필요하다. 
    - 따라서, 실질적으로는 불가능 한 것 이다. 

- 그리고 이렇게 salt 를 추가한 hash 를 다시 hash 화 하는 것을 키스트레칭 이라 한다. 

- 계산 비용이 2의 10승이면, 키스트레칭을 2의 10승 번 한 것 이다. 

```



